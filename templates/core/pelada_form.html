<!DOCTYPE html>
<html>
<head>
    <title>Criar Pelada</title>
    <style>
        .form-pelada {
            max-width: 500px;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .form-pelada label {
            display: block;
            margin: 10px 0 5px;
        }
        .form-pelada input[type="text"],
        .form-pelada input[type="date"],
        .form-pelada input[type="time"],
        .form-pelada input[type="number"],
        .form-pelada input[type="checkbox"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
        }
        .form-pelada input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
        }
        .form-pelada button {
            background: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
        .recorrente-options {
            margin-left: 25px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
            display: none;
        }
        .checkbox-container {
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="form-pelada">
        <h1>Criar Nova Pelada</h1>
        <form method="post">
            {% csrf_token %}
            
            <label for="id_nome">Nome:</label>
            {{ form.nome }}
            
            <label for="id_data_inicial">Data:</label>
            {{ form.data_inicial }}

            <label for="id_hora">Horário:</label>
            {{ form.hora }}
            
            <label for="id_local">Local:</label>
            {{ form.local }}
            
            <div class="checkbox-container">
                {{ form.recorrente }}
                <label for="id_recorrente" style="display: inline;">Pelada semanal?</label>
            </div>
            
            <div id="recorrente-options" class="recorrente-options">
                <label for="id_semanas_duracao">Repetir por quantas semanas?</label>
                {{ form.semanas_duracao }}
                <p id="dia-semana-texto" style="font-style: italic; color: #666;"></p>
            </div>
            
            <button type="submit">Salvar Pelada</button>
        </form>
    </div>

    <script>
        // Mostra/oculta opções de recorrência
        const checkboxRecorrente = document.getElementById('id_recorrente');
        const divRecorrenteOptions = document.getElementById('recorrente-options');
        
        checkboxRecorrente.addEventListener('change', function() {
            divRecorrenteOptions.style.display = this.checked ? 'block' : 'none';
        });
        
        // Atualiza o texto do dia da semana quando a data muda
        const inputData = document.getElementById('id_data');
        const diaSemanaTexto = document.getElementById('dia-semana-texto');
        
        inputData.addEventListener('change', function() {
            if (this.value) {
                const dias = ['Domingo', 'Segunda-feira', 'Terça-feira', 'Quarta-feira', 
                              'Quinta-feira', 'Sexta-feira', 'Sábado'];
                const data = new Date(this.value);
                const diaSemana = dias[data.getDay()];
                diaSemanaTexto.textContent = `A pelada se repetirá às ${diaSemana}s`;
            }
        });
        
        // Mostra as opções se já estiver marcado ao carregar (para edição)
        if (checkboxRecorrente.checked) {
            divRecorrenteOptions.style.display = 'block';
            inputData.dispatchEvent(new Event('change'));
        }
    </script>
</body>
</html>